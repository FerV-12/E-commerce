{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\reactApp\\\\reactApp\\\\myreactapp\\\\src\\\\CartContext.js\",\n  _s = $RefreshSig$();\n// ...existing code...\nimport React, { createContext, useReducer, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"ADD\":\n      {\n        const item = action.payload;\n        const existing = state.items.find(i => i.id === item.id);\n        if (existing) {\n          return {\n            ...state,\n            items: state.items.map(i => i.id === item.id ? {\n              ...i,\n              quantity: i.quantity + 1\n            } : i)\n          };\n        }\n        return {\n          ...state,\n          items: [...state.items, {\n            ...item,\n            quantity: 1\n          }]\n        };\n      }\n    case \"UPDATE_QUANTITY\":\n      {\n        const {\n          id,\n          quantity\n        } = action.payload;\n        return {\n          ...state,\n          items: state.items.map(i => i.id === id ? {\n            ...i,\n            quantity: Math.max(0, quantity)\n          } : i).filter(i => i.quantity > 0)\n        };\n      }\n    case \"REMOVE\":\n      {\n        return {\n          ...state,\n          items: state.items.filter(i => i.id !== action.payload.id)\n        };\n      }\n    case \"CLEAR\":\n      return {\n        ...state,\n        items: []\n      };\n    default:\n      return state;\n  }\n}\nexport function CartProvider({\n  children\n}) {\n  _s();\n  const [state, dispatch] = useReducer(reducer, {\n    items: []\n  }, init => {\n    try {\n      const raw = localStorage.getItem(\"cart\");\n      return raw ? JSON.parse(raw) : init;\n    } catch (e) {\n      return init;\n    }\n  });\n  useEffect(() => {\n    try {\n      localStorage.setItem(\"cart\", JSON.stringify(state));\n    } catch (e) {\n      // ignore\n    }\n  }, [state]);\n  const addToCart = product => dispatch({\n    type: \"ADD\",\n    payload: product\n  });\n  const updateQuantity = (id, quantity) => dispatch({\n    type: \"UPDATE_QUANTITY\",\n    payload: {\n      id,\n      quantity\n    }\n  });\n  const removeFromCart = id => dispatch({\n    type: \"REMOVE\",\n    payload: {\n      id\n    }\n  });\n  const clearCart = () => dispatch({\n    type: \"CLEAR\"\n  });\n  const total = state.items.reduce((sum, it) => sum + it.price * it.quantity, 0);\n  const count = state.items.reduce((sum, it) => sum + it.quantity, 0);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cartItems: state.items,\n      addToCart,\n      updateQuantity,\n      removeFromCart,\n      clearCart,\n      total,\n      count\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_s(CartProvider, \"0cFveHabp6TDwHKBDbk7ftJAyXc=\");\n_c = CartProvider;\nexport default CartContext;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useReducer","useEffect","jsxDEV","_jsxDEV","CartContext","reducer","state","action","type","item","payload","existing","items","find","i","id","map","quantity","Math","max","filter","CartProvider","children","_s","dispatch","init","raw","localStorage","getItem","JSON","parse","e","setItem","stringify","addToCart","product","updateQuantity","removeFromCart","clearCart","total","reduce","sum","it","price","count","Provider","value","cartItems","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/admin/Desktop/reactApp/reactApp/myreactapp/src/CartContext.js"],"sourcesContent":["// ...existing code...\r\nimport React, { createContext, useReducer, useEffect } from \"react\";\r\n\r\nconst CartContext = createContext();\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case \"ADD\": {\r\n      const item = action.payload;\r\n      const existing = state.items.find((i) => i.id === item.id);\r\n      if (existing) {\r\n        return {\r\n          ...state,\r\n          items: state.items.map((i) =>\r\n            i.id === item.id ? { ...i, quantity: i.quantity + 1 } : i\r\n          ),\r\n        };\r\n      }\r\n      return { ...state, items: [...state.items, { ...item, quantity: 1 }] };\r\n    }\r\n    case \"UPDATE_QUANTITY\": {\r\n      const { id, quantity } = action.payload;\r\n      return {\r\n        ...state,\r\n        items: state.items\r\n          .map((i) => (i.id === id ? { ...i, quantity: Math.max(0, quantity) } : i))\r\n          .filter((i) => i.quantity > 0),\r\n      };\r\n    }\r\n    case \"REMOVE\": {\r\n      return { ...state, items: state.items.filter((i) => i.id !== action.payload.id) };\r\n    }\r\n    case \"CLEAR\":\r\n      return { ...state, items: [] };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function CartProvider({ children }) {\r\n  const [state, dispatch] = useReducer(\r\n    reducer,\r\n    { items: [] },\r\n    (init) => {\r\n      try {\r\n        const raw = localStorage.getItem(\"cart\");\r\n        return raw ? JSON.parse(raw) : init;\r\n      } catch (e) {\r\n        return init;\r\n      }\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem(\"cart\", JSON.stringify(state));\r\n    } catch (e) {\r\n      // ignore\r\n    }\r\n  }, [state]);\r\n\r\n  const addToCart = (product) => dispatch({ type: \"ADD\", payload: product });\r\n  const updateQuantity = (id, quantity) =>\r\n    dispatch({ type: \"UPDATE_QUANTITY\", payload: { id, quantity } });\r\n  const removeFromCart = (id) => dispatch({ type: \"REMOVE\", payload: { id } });\r\n  const clearCart = () => dispatch({ type: \"CLEAR\" });\r\n\r\n  const total = state.items.reduce((sum, it) => sum + it.price * it.quantity, 0);\r\n  const count = state.items.reduce((sum, it) => sum + it.quantity, 0);\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{ cartItems: state.items, addToCart, updateQuantity, removeFromCart, clearCart, total, count }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n}\r\n\r\nexport default CartContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}